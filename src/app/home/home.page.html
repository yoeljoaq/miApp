<ion-header [translucent]="true">
  <ion-toolbar>
    <ion-button (click)="logout()">Cerrar Sesión</ion-button>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true">
  <ion-title style="text-align: center; margin-top: 16px;">
    Bienvenido, {{ username }}!  
  </ion-title>

  <div id="connection-status" style="text-align: center; margin-bottom: 16px;">
    You are 
    <ion-text *ngIf="status" color="success">Online</ion-text> 
    <ion-text *ngIf="!status" color="danger">Offline</ion-text>
  </div>

  <div id="map" style="width: 100%; height: 50vh; margin-bottom: 16px;"></div> 

  <div id="button-container" style="display: flex; flex-direction: column; gap: 10px; padding: 0 16px;">
    <ion-button class="conductor" [routerLink]="['/agregarvehiculo']" expand="full">Disponibilzar vehículo</ion-button>
    <ion-button class="pasajero" expand="full" (click)="startTrip()">Solicitar vehículo</ion-button>
  </div>

  <div *ngIf="passengerData">
    <ion-card>
      <ion-card-header>
        <ion-card-title>Datos del pasajero</ion-card-title>
      </ion-card-header>
      <ion-card-content>
        <p><strong>Nombre:</strong> {{ passengerData.name }}</p>
        <p><strong>Contacto:</strong> {{ passengerData.contact }}</p>
      </ion-card-content>
    </ion-card>
  </div>

  <div *ngIf="weatherData">
    <ion-card>
      <ion-card-header>
        <ion-card-title>{{ weatherData.name }}</ion-card-title>
      </ion-card-header>
      <ion-card-content>
        <p><strong>Temperatura:</strong> {{ weatherData.main.temp }} °C</p>
        <p><strong>Descripción:</strong> {{ getCapitalizedDescription() }}</p>
        <p><strong>Humedad:</strong> {{ weatherData.main.humidity }} %</p>
        <p><strong>Viento:</strong> {{ weatherData.wind.speed }} m/s</p>
      </ion-card-content>
    </ion-card>
  </div>
  
  <div *ngIf="!weatherData">
    <p>Cargando datos del clima...</p>
  </div>
</ion-content>
